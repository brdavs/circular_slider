function slider(e,c){var q,r;function u(a,d,b){var f=Math.sqrt(Math.pow(d.x-a.x,2)+Math.pow(d.y-a.y,2));d=Math.sqrt(Math.pow(d.x-b.x,2)+Math.pow(d.y-b.y,2));var c=Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)),f=180*Math.acos((d*d+f*f-c*c)/(2*d*f))/Math.PI;return a.x<b.x?f:180-f+180}function n(a,d,b,f){f=(f-90)*Math.PI/180;return{x:a+b*Math.cos(f),y:d+b*Math.sin(f)}}function v(a,d,b,f,c){var g=n(a,d,b,c);a=n(a,d,b,f);return["M",g.x,g.y,"A",b,b,0,180>=c+f?0:1,1,a.x,a.y].join(" ")}function p(a){a=
a.getBoundingClientRect();return{x:a.width/2+a.left,y:a.height/2+a.top}}function x(a){for(var d=[a.bg_gap_color,a.bg_color,a.gap_color,a.color],b=0;b<d.length;b++){var f={el:"path",attr:{fill:"none",stroke:d[b],"class":2>b?"circle circle_"+b:"arc arc_"+b,"stroke-width":a.width,"stroke-dasharray":1==Math.abs(b%2)?[a.dash,a.gap]:"",d:v(m/2,m/2,a.size/2-a.width/2-2,2>b?359.9:.1,0)}};d[b]=f}b=ce({el:"circle",attr:{"class":"handle",cx:m/2,cy:m/2,r:a.width/2+2,transform:"translate(0 0)",fill:"#fff",stroke:"#000",
"stroke-width":1}});f=n(a.size/2,a.size/2,a.size/2,0);b.transform.baseVal.getItem(0).setTranslate(f.y,-(f.x-a.width/2-2));d=ce({el:"g",content:d.concat(b)});d.slider_data={data:a};return d}function w(a,d){"touchmove"==a.type?(q=a.touches[0].clientX,r=a.touches[0].clientY):(q=a.clientX,r=a.clientY);h=d?[d]:h;h.forEach(function(b){if(b.slider_data.rotating||-1!=["mousedown","touchmove"].indexOf(a.type)){var d=b.getElementsByClassName("handle")[0];b.slider_data.m={x:q,y:r};var c=b.slider_data,g=b.slider_data.data,
c=b.slider_data.angle=u(c.a,c.c,c.m);var e=g.step;0!=e&&(e=360/((g.max_value-g.min_value)/e),c=e*Math.round(c/e));e=b.slider_data.handle_pos=n(g.size,g.size,g.size/2-g.width/2-2,c);b.slider_data.value=1/360*(g.max_value-g.min_value)*c+g.min_value;d.transform.baseVal.getItem(0).setTranslate(e.x-g.size,e.y-g.size);d=b.getElementsByClassName("arc");for(e=0;e<d.length;e++)arc_data=v(m/2,m/2,g.size/2-g.width/2-2,360==c?c-.1:c,0),d[e].setAttribute("d",arc_data);infobox_element&&(infobox_element.querySelector("."+
g["class"]+" .value").textContent="$ "+b.slider_data.value.toFixed(2))}})}var t={name:"Transportation",size:100,width:10,dash:6,gap:2,rotate:0,min_value:100,max_value:200,step:0,gap_color:"#977fa1",color:"#5f3b6f",bg_gap_color:"#d7d7d7",bg_color:"#c8c8c8"};c=c.map(function(a){for(k in t)t.hasOwnProperty(k)&&!a.hasOwnProperty(k)&&(a[k]=t[k]);return a});c=c.sort(function(a,d){return a.size<d.size?1:-1});var m=c[0].size,h=this.sliders=[];r=q=0;c.forEach(function(a){a["class"]=a.name.toLowerCase().replace(" ",
"_");h.push(x(a))});var y=this.svg=ce({el:"svg",attr:{width:c[0].size,height:c[0].size,viewbox:"0 0 "+[c[0].size,c[0].size].join(" ")},content:this.sliders}),l=document.getElementById(e);l.appendChild(y);l.style.width=c[0].size+"px";l.style.height=l.style.width;infobox_element=null;this.infobox=function(a){infobox_element=document.getElementById(a);h.forEach(function(a){var b=a.slider_data.data;a=ce({el:"div",attr:{"class":["slider",b["class"]].join(" ")},content:["value","box","name"].map(function(a){switch(a){case "value":content=
"$ "+b.min_value.toFixed(2);break;case "name":content=b.name;break;default:content=""}return{el:"div",attr:{"class":a,style:"box"==a?"background-color:"+b.color+";":!1},content:content}})});infobox_element.appendChild(a)});return infobox_element};this.sliders=this.sliders.map(function(a){var d=a.getElementsByClassName("handle")[0],b=a.slider_data;b.rotating=!1;b.halt="";b.c=p(l);b.a=p(d);b.m=p(d);b.angle=u(b.a,b.c,b.m);b.handle_pos=n(b.data.size,b.data.size,b.data.size/2-b.data.width/2-2,b.angle);
a.slider_data=b;["mousedown","touchstart"].forEach(function(b){d.addEventListener(b,function(b){a.slider_data.c=p(l);a.slider_data.rotating=!0})});a.addEventListener("mousedown",function(b){a.slider_data.c=p(l);w(b,a)},!1);return a});document.addEventListener("mouseup",function(a){h=h.map(function(a){a.slider_data.rotating=!1;return a})},!1);["mousemove","touchmove"].forEach(function(){document.addEventListener("mousemove",w)})}
function ce(e){var c=document.createElement(e.el),c="div"!=e.el?document.createElementNS("http://www.w3.org/2000/svg",e.el):c;for(k in e.attr)e.attr.hasOwnProperty(k)&&c.setAttribute(k,e.attr[k]);if(!e.content)return c;e.content.constructor!==Array&&(e.content=[e.content]);e.content.forEach(function(e){n_item="string"===typeof e?document.createTextNode(e):e.attributes?e:ce(e);c.appendChild(n_item)});return c};